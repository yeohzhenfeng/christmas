<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ„ åœ£è¯ç¥ç¦</title>

<style>
  body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    background: radial-gradient(circle at top, #ffd1dc, #b24592, #4b134f);
    overflow:hidden;
  }

  body::before{
    content:"";
    position:absolute;
    inset:-20%;
    background: radial-gradient(circle, rgba(255,255,255,.18), transparent 60%);
    animation: glow 10s ease-in-out infinite;
  }
  @keyframes glow{
    0%,100%{ transform:scale(1); }
    50%{ transform:scale(1.15); }
  }

  .heart{
    position:absolute;
    font-size:16px;
    animation: fall linear infinite;
    opacity:.7;
  }
  @keyframes fall{
    from{ transform:translateY(-10vh); opacity:0; }
    20%{ opacity:.8; }
    to{ transform:translateY(110vh); opacity:0; }
  }

  .card{
    position:relative;
    background: rgba(255,255,255,.88);
    border-radius: 28px;
    padding: 34px 28px;
    width: 320px;
    text-align:center;
    box-shadow: 0 25px 60px rgba(0,0,0,.35);
    z-index:2;
  }

  h1{
    margin:0 0 14px;
    font-size:26px;
    color:#7a1f4b;
  }

  .text{
    font-size:16px;
    line-height:1.75;
    color:#4b134f;
    min-height:140px;
    white-space:pre-line;
  }

  .btn{
    margin-top:16px;
    padding:10px 18px;
    border-radius:999px;
    border:none;
    background:#e2558d;
    color:#fff;
    font-size:14px;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(226,85,141,.5);
  }
  .btn:active{ transform:scale(.96); }

  .music{
    margin-top:10px;
    background:#fff;
    color:#b24592;
    border:1px solid #f0c;
  }

  .from{
    margin-top:14px;
    font-size:14px;
    color:#7a1f4b;
    opacity:.9;
  }
</style>
</head>

<body>

<div class="card">
  <h1>ğŸ„ ç»™å°ä»™å¥³</h1>
  <div class="text" id="text"></div>

  <button class="btn" id="next">ç»§ç»­çœ‹ âœ¨</button>
  <br />
  <button class="btn music" id="musicBtn">ğŸµ æ’­æ”¾åœ£è¯æ­Œ</button>

  <div class="from">â€”â€” Yibo</div>
</div>

<audio id="bgm" loop>
  <!-- å…è´¹å¯ç”¨çš„åœ£è¯éŸ³ä¹ï¼ˆæ— ç‰ˆæƒé—®é¢˜ï¼‰ -->
  <source src="https://cdn.pixabay.com/download/audio/2022/12/06/audio_6a0c7b3c25.mp3?filename=christmas-village-ambient-124008.mp3" type="audio/mpeg">
</audio>

<script>
  /* text typing */
  const messages = [
    "å°ä»™å¥³ï¼Œ\nåœ£è¯å¿«ä¹ ğŸ„",
    "è¿™ä¸ªå†¬å¤©ï¼Œ\nå¸Œæœ›ä½ è¿‡å¾—è½»æ¾ä¸€ç‚¹ã€‚",
    "ä¸ä¸€å®šæ¯å¤©éƒ½å¾ˆå¼€å¿ƒï¼Œ\nä½†è‡³å°‘æœ‰è¢«æ¸©æŸ”å¯¹å¾…ã€‚",
    "æ„¿ä½ çš„ç”Ÿæ´»é‡Œï¼Œ\næœ‰çƒ­å¯å¯ã€æœ‰ç¬‘å®¹ï¼Œ\nä¹Ÿæœ‰å±äºä½ çš„å®‰é™æ—¶åˆ»ã€‚",
    "ğŸ„ Merry Christmas\nå¸Œæœ›è¿™ä¸ªèŠ‚æ—¥ï¼Œ\nèƒ½ç»™ä½ å¸¦æ¥ä¸€ç‚¹ç‚¹æ¸©æš– âœ¨"
  ];

  let step = 0;
  const textBox = document.getElementById("text");
  const btn = document.getElementById("next");

  function typeText(msg, i = 0){
    if(i === 0) textBox.textContent = "";
    if(i < msg.length){
      textBox.textContent += msg[i];
      setTimeout(()=>typeText(msg, i+1), 60);
    }
  }

  btn.onclick = () => {
    if(step < messages.length){
      typeText(messages[step]);
      step++;
      if(step === messages.length){
        btn.textContent = "ğŸ„";
      }
    }
  };

  /* hearts */
  const hearts = ["â¤ï¸","ğŸ’–","ğŸ’•","ğŸ’—"];
  function createHeart(){
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
    h.style.left = Math.random()*100 + "vw";
    h.style.animationDuration = (6 + Math.random()*6) + "s";
    h.style.fontSize = (14 + Math.random()*18) + "px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),12000);
  }
  setInterval(createHeart, 900);

  /* music control */
  const bgm = document.getElementById("bgm");
  const musicBtn = document.getElementById("musicBtn");
  let playing = false;

  musicBtn.onclick = () => {
    if(!playing){
      bgm.play();
      musicBtn.textContent = "â¸ï¸ æš‚åœéŸ³ä¹";
      playing = true;
    }else{
      bgm.pause();
      musicBtn.textContent = "ğŸµ æ’­æ”¾åœ£è¯æ­Œ";
      playing = false;
    }
  };
</script>

</body>
</html>
